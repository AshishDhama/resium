"use strict";(self.webpackChunkresium_docs=self.webpackChunkresium_docs||[]).push([[9400],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=o,k=d["".concat(l,".").concat(m)]||d[m]||c[m]||i;return n?r.createElement(k,a(a({ref:t},p),{},{components:n})):r.createElement(k,a({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var u=2;u<i;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9788:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return p},default:function(){return d}});var r=n(7462),o=n(3366),i=(n(7294),n(3905)),a=["components"],s={id:"contribution",title:"Contribution"},l="Contribution",u={unversionedId:"contribution",id:"contribution",isDocsHomePage:!1,title:"Contribution",description:"Your contribution welcome!",source:"@site/docs/06-contribution.md",sourceDirName:".",slug:"/contribution",permalink:"/contribution",editUrl:"https://github.com/reearth/resium/edit/master/docs/docs/06-contribution.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{id:"contribution",title:"Contribution"},sidebar:"docs",previous:{title:"Migration Guide",permalink:"/migration"}},p=[{value:"Reporting bugs",id:"reporting-bugs",children:[]},{value:"When you have a question",id:"when-you-have-a-question",children:[]},{value:"Suggesting new features or new components",id:"suggesting-new-features-or-new-components",children:[]},{value:"Start hacking",id:"start-hacking",children:[]},{value:"Adding new properties to a component",id:"adding-new-properties-to-a-component",children:[]},{value:"Adding unit tests for components",id:"adding-unit-tests-for-components",children:[{value:"1. Add stubs",id:"1-add-stubs",children:[]},{value:"2. Add unit tests",id:"2-add-unit-tests",children:[]}]}],c={toc:p};function d(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"contribution"},"Contribution"),(0,i.kt)("p",null,"Your contribution welcome!"),(0,i.kt)("h2",{id:"reporting-bugs"},"Reporting bugs"),(0,i.kt)("p",null,"If you find bugs ascribed to resium, please open a issue in ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/reearth/resium/issues"},"GitHub issues"),"."),(0,i.kt)("h2",{id:"when-you-have-a-question"},"When you have a question"),(0,i.kt)("p",null,"Post your question to ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/reearth/resium/issues"},"GitHub issues"),"."),(0,i.kt)("p",null,"Note: Please do not email the author if at all possible."),(0,i.kt)("h2",{id:"suggesting-new-features-or-new-components"},"Suggesting new features or new components"),(0,i.kt)("p",null,"Please open a issue in ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/reearth/resium/issues"},"GitHub issues"),"."),(0,i.kt)("h2",{id:"start-hacking"},"Start hacking"),(0,i.kt)("p",null,"Resium requires an editor supporting TypeScript, ESLint, and Yarn."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Fork ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/reearth/resium"},"resium repository"),"."),(0,i.kt)("li",{parentName:"ol"},"Clone a new repository made with forking."),(0,i.kt)("li",{parentName:"ol"},"Install modules with ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn")," command."),(0,i.kt)("li",{parentName:"ol"},"Let's develop!"),(0,i.kt)("li",{parentName:"ol"},"Commit and push your changes."),(0,i.kt)("li",{parentName:"ol"},"Make a new ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/reearth/resium/pulls"},"pull request")," in resium repository.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"To run test: ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn test")),(0,i.kt)("li",{parentName:"ul"},"To start storybook: ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn storybook")),(0,i.kt)("li",{parentName:"ul"},"To build: ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn build"))),(0,i.kt)("h2",{id:"adding-new-properties-to-a-component"},"Adding new properties to a component"),(0,i.kt)("p",null,"It is very easy to add a new typical property to a Cesium component. Your PR welcome!"),(0,i.kt)("p",null,"For example, let's add a new property ",(0,i.kt)("inlineCode",{parentName:"p"},"test")," added to Viewer class in Cesium, to ",(0,i.kt)("inlineCode",{parentName:"p"},"<Viewer>")," component. Open and edit ",(0,i.kt)("inlineCode",{parentName:"p"},"src/Viewer.tsx"),"."),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"test")," is a variable property:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'const cesiumProps = [\n  // ...\n  "test", // <== Add a new property name\n] as const;\n')),(0,i.kt)("p",null,"All is done!"),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"test")," is a read only property:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'const cesiumReadonlyProps = [\n  // ...\n  "test", // <== Add a new property name\n];\n')),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"test")," is an event property:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note"),": Follow React's convention for the event name. For example:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"tickEvent")," => ",(0,i.kt)("inlineCode",{parentName:"li"},"onTick")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"progress")," => ",(0,i.kt)("inlineCode",{parentName:"li"},"onProgress"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export type ViewerEventProps = {\n  // ...\n  onTest?: () => void; // <=== Add a new property type\n};\n")),(0,i.kt)("p",null,"and"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'const cesiumEventProps: EventKeyMap<Viewer, ViewerProps> = {\n  onTest: "test", // <== Add a new property name mapping\n};\n')),(0,i.kt)("h2",{id:"adding-unit-tests-for-components"},"Adding unit tests for components"),(0,i.kt)("p",null,"Unit tests for core are mostly well, but for components are lack. Your PR welcome!"),(0,i.kt)("h3",{id:"1-add-stubs"},"1. Add stubs"),(0,i.kt)("p",null,"Resium uses Jest as a test runner and assertion library. But Cesium cannot be loaded in Jest, because it deeply depends on Web APIs (WebWorker, WebGL and so on). That's why creating stubs for Cesium is required."),(0,i.kt)("p",null,"Stubs are located in ",(0,i.kt)("inlineCode",{parentName:"p"},"__mocks__")," directory. For details, refer to existing stubs."),(0,i.kt)("h3",{id:"2-add-unit-tests"},"2. Add unit tests"),(0,i.kt)("p",null,"Unit tests are located in ",(0,i.kt)("inlineCode",{parentName:"p"},"src/tests")," directory. For details, refer to existing tests: ",(0,i.kt)("inlineCode",{parentName:"p"},"src/tests/Entity.test.tsx"),". It uses enzyme."),(0,i.kt)("p",null,"Please write test code to test as follows:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Test if the component can mount properly."),(0,i.kt)("li",{parentName:"ul"},"Test if the component can update properties properly."),(0,i.kt)("li",{parentName:"ul"},"Test if the component can unmount properly.")))}d.isMDXComponent=!0}}]);