"use strict";(self.webpackChunkresium_docs=self.webpackChunkresium_docs||[]).push([[7581],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return m}});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=r.createContext({}),l=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},d=function(e){var n=l(e.components);return r.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),u=l(t),m=i,f=u["".concat(s,".").concat(m)]||u[m]||c[m]||o;return t?r.createElement(f,a(a({ref:n},d),{},{components:t})):r.createElement(f,a({ref:n},d))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=u;var p={};for(var s in n)hasOwnProperty.call(n,s)&&(p[s]=n[s]);p.originalType=e,p.mdxType="string"==typeof e?e:i,a[1]=p;for(var l=2;l<o;l++)a[l]=t[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},4353:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return p},contentTitle:function(){return s},metadata:function(){return l},toc:function(){return d},default:function(){return u}});var r=t(7462),i=t(3366),o=(t(7294),t(3905)),a=["components"],p={id:"migration",title:"Migration Guide"},s="Migration Guide",l={unversionedId:"migration",id:"migration",isDocsHomePage:!1,title:"Migration Guide",description:"v1.12",source:"@site/docs/05-migration.md",sourceDirName:".",slug:"/migration",permalink:"/migration",editUrl:"https://github.com/reearth/resium/edit/master/docs/docs/05-migration.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"migration",title:"Migration Guide"},sidebar:"docs",previous:{title:"Advanced",permalink:"/advanced"},next:{title:"Contribution",permalink:"/contribution"}},d=[{value:"v1.12",id:"v112",children:[{value:"Official type definition is supported!",id:"official-type-definition-is-supported",children:[]},{value:"Some component properties are fixed",id:"some-component-properties-are-fixed",children:[]},{value:"<code>useCesium</code> hook is no longer needed a type argument",id:"usecesium-hook-is-no-longer-needed-a-type-argument",children:[]}]},{value:"v1.9",id:"v19",children:[]},{value:"v1.0",id:"v10",children:[{value:"Resium are fully reimplemented",id:"resium-are-fully-reimplemented",children:[]},{value:"Changed: Entity description",id:"changed-entity-description",children:[]},{value:"Decrepated: PropType",id:"decrepated-proptype",children:[]},{value:"Renamed / Decrepated: properties",id:"renamed--decrepated-properties",children:[]}]}],c={toc:d};function u(e){var n=e.components,t=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"migration-guide"},"Migration Guide"),(0,o.kt)("h2",{id:"v112"},"v1.12"),(0,o.kt)("p",null,"Changes related to TypeScript type definitions are main, but some component properties are changed also."),(0,o.kt)("h3",{id:"official-type-definition-is-supported"},"Official type definition is supported!"),(0,o.kt)("p",null,"Now Cesium's official TypeScript type definitions since Cesium v1.70 is used, so ",(0,o.kt)("inlineCode",{parentName:"p"},"@types/cesium")," is no longer used. You can uninstall it."),(0,o.kt)("h3",{id:"some-component-properties-are-fixed"},"Some component properties are fixed"),(0,o.kt)("p",null,"Some components' properties are mistakenly typed and they are fixed, but that includes some breaking changes. Some properties are changed Cesium prop type: e.g. Cesium props -> Cesium read-only props."),(0,o.kt)("h3",{id:"usecesium-hook-is-no-longer-needed-a-type-argument"},(0,o.kt)("inlineCode",{parentName:"h3"},"useCesium")," hook is no longer needed a type argument"),(0,o.kt)("p",null,"You can still add a type argument, but you can also omit it."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'import { Viewer } from "cesium";\nimport { useCesium } from "resium";\n\n// before\nconst { viewer } = useCesium<{ viewer?: Viewer }>();\n\n// after\nconst { viewer } = useCesium();\n')),(0,o.kt)("h2",{id:"v19"},"v1.9"),(0,o.kt)("p",null,"Resium are fully reimplemented with React Hooks. There are possibilities that the behavior has changed in edge cases."),(0,o.kt)("p",null,"And some properties and types are changed, removed, or renamed. For details, please check ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reearth/resium/tree/master/CHANGELOG.md"},"changelog"),"."),(0,o.kt)("h2",{id:"v10"},"v1.0"),(0,o.kt)("h3",{id:"resium-are-fully-reimplemented"},"Resium are fully reimplemented"),(0,o.kt)("p",null,"New component lifecycle and new React Context API in React v16.3 are supported."),(0,o.kt)("p",null,"There are possibilities that the behavior has changed in edge cases."),(0,o.kt)("h3",{id:"changed-entity-description"},"Changed: Entity description"),(0,o.kt)("p",null,"Children of Entity component are no longer rendered as description. Use ",(0,o.kt)("inlineCode",{parentName:"p"},"EntityDescription")," component instead."),(0,o.kt)("p",null,"Before:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'import { Viewer, Entity } from "resium";\n\nconst Component = () => (\n  <Viewer>\n    <Entity>\n      <h1>Hello, world</h1>\n      <p>This is test</p>\n    </Entity>\n  </Viewer>\n);\n')),(0,o.kt)("p",null,"After:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'import { Viewer, Entity, EntityDescription } from "resium";\n\nconst Component = () => (\n  <Viewer>\n    <Entity>\n      <EntityDescription>\n        <h1>Hello, world</h1>\n        <p>This is test</p>\n      </EntityDescription>\n    </Entity>\n  </Viewer>\n);\n')),(0,o.kt)("p",null,"Now only ",(0,o.kt)("inlineCode",{parentName:"p"},"EntityDescription")," depends on ",(0,o.kt)("inlineCode",{parentName:"p"},"react-dom"),"."),(0,o.kt)("h3",{id:"decrepated-proptype"},"Decrepated: PropType"),(0,o.kt)("p",null,"PropType is no longer used. TypeScript is recommended."),(0,o.kt)("h3",{id:"renamed--decrepated-properties"},"Renamed / Decrepated: properties"),(0,o.kt)("p",null,"See ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reearth/resium/tree/master/CHANGELOG.md"},"CHANGELOG"),"."),(0,o.kt)("h4",{id:"url-or-czml-prop-of-kmlczmlgeojsondatasource"},(0,o.kt)("inlineCode",{parentName:"h4"},"url")," or ",(0,o.kt)("inlineCode",{parentName:"h4"},"czml")," prop of Kml/Czml/GeoJsonDataSource"),(0,o.kt)("p",null,"They have been integrated to ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," prop. Now ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," prop accepts URL string, Cesium.Resouce, and data object."),(0,o.kt)("h4",{id:"onmount-onupdate-and-onunmount-prop"},(0,o.kt)("inlineCode",{parentName:"h4"},"onMount"),", ",(0,o.kt)("inlineCode",{parentName:"h4"},"onUpdate")," and ",(0,o.kt)("inlineCode",{parentName:"h4"},"onUnmount")," prop"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"onMount"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"onUpdate")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"onUnmount")," prop have been deprecated as they violate React's custom. Use ",(0,o.kt)("inlineCode",{parentName:"p"},"ref")," prop instead."),(0,o.kt)("p",null,"Before:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"const Component = () => (\n  <Viewer\n    onMount={viewer => {\n      // some code\n    }}\n  />\n);\n")),(0,o.kt)("p",null,"After:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"class Component extends React.PureComponent {\n  ref = React.createRef();\n\n  componentDidMount() {\n    if (ref.current) {\n      const viewer = ref.current.cesiumElement;\n      // some code\n    }\n  }\n\n  render() {\n    return (\n      <Viewer ref={this.ref} />\n    );\n  }\n);\n")))}u.isMDXComponent=!0}}]);